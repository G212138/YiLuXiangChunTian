{"version":3,"sources":["assets\\frame\\scripts\\UI\\BindNode.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAQ,IAAA,OAAO,GAAK,EAAE,CAAC,UAAU,QAAlB,CAAmB;AAGlC;IAAsC,4BAAY;IAAlD;;IA8BA,CAAC;iBA9BoB,QAAQ;IACzB,4BAAS,GAAT;QACI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IACnC,CAAC;IAED,kCAAkC;IAClC,2BAAQ,GAAR,UAAS,IAAa,EAAE,MAAW;QAC/B,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,EAAE;YAClB,OAAO;SACV;QAED,IAAI,QAAQ,GAAW,GAAG,CAAC,CAAC,oBAAoB;QAEhD,IAAI,QAAQ,GAAG,CAAC,IAAI,CAAC,CAAC;QACtB,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,OAAO,IAAI,EAAE;YACT,IAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;YACzB,IAAI,QAAQ,KAAK,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;gBAC/C,MAAM,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;gBACxB,mCAAmC;aACtC;YAED,IAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,UAAQ,CAAC,CAAC;YAC7C,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE;gBACtB,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,4BAA4B;aAC1E;YAED,IAAI,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;SACxB;IACL,CAAC;;IA7BgB,QAAQ;QAD5B,OAAO;OACa,QAAQ,CA8B5B;IAAD,eAAC;CA9BD,AA8BC,CA9BqC,EAAE,CAAC,SAAS,GA8BjD;kBA9BoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["const { ccclass } = cc._decorator;\n\n@ccclass\nexport default class BindNode extends cc.Component {\n    __preload() {\n        this.bindNode(this.node, this);\n    }\n\n    //遍历全部节点，绑定节点名字（重名的只会绑定第一个符合条件的节点）\n    bindNode(node: cc.Node, target: any) {\n        if (!node || !target) {\n            return;\n        }\n\n        let _nameTag: string = '_'; //名字以 '_' 开头的节点才会被绑定\n\n        let nodeList = [node];\n        let i = 0;\n        while (node) {\n            let nodeName = node.name;\n            if (_nameTag === nodeName[0] && !target[nodeName]) {\n                target[nodeName] = node;\n                // cc.log('bindNode:  ', nodeName);\n            }\n\n            const bindComp = node.getComponent(BindNode);\n            if (0 === i || !bindComp) {\n                nodeList = nodeList.concat(node.children); //节点有脚本继承了BindNode，就不再绑定其子节点\n            }\n\n            node = nodeList[++i];\n        }\n    }\n}\n"]}