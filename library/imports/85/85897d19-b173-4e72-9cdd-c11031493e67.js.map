{"version":3,"sources":["assets\\frame\\scripts\\UI\\Item\\MaskGlobal.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,wDAAuD;AACvD,iEAAgE;AAChE,qDAAwD;AACxD,6CAA4C;AAC5C,wCAAmC;AAE7B,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAwC,8BAAQ;IAAhD;QAAA,qEAqCC;QApCU,cAAQ,GAAY,IAAI,CAAC;QACzB,iBAAW,GAAY,IAAI,CAAC;QAC5B,mBAAa,GAAY,KAAK,CAAC;;IAkC1C,CAAC;IAhCG,2BAAM,GAAN;QACI,OAAO;QACP,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,yBAAa,CAAC,IAAI,CAAC;IAC1C,CAAC;IAED,0BAAK,GAAL;QACI;;;WAGG;QACH,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;QAC1E,iCAAe,CAAC,EAAE,CAAC,2BAAY,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAC5D,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,KAAK,CAAC;QAChC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;IACjC,CAAC;IAED,2BAAM,GAAN,UAAO,OAAgB,EAAE,aAA8B;QAA9B,8BAAA,EAAA,qBAA8B;QACnD,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,OAAO,CAAC;QAC/B,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IACxC,CAAC;IAED,kCAAa,GAAb;QACI,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,OAAO;SACV;QACD,eAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IAC7B,CAAC;IAED,+BAAU,GAAV,UAAW,aAAsB;QAC7B,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,aAAa,CAAC;IAC5C,CAAC;IApCgB,UAAU;QAD9B,OAAO;OACa,UAAU,CAqC9B;IAAD,iBAAC;CArCD,AAqCC,CArCuC,kBAAQ,GAqC/C;kBArCoB,UAAU","file":"","sourceRoot":"/","sourcesContent":["import { FrameMsgType } from '../../Data/FrameMsgType';\nimport { ListenerManager } from '../../Manager/ListenerManager';\nimport { EPANEL_ZORDER } from '../../Manager/UIManager';\nimport { UIHelp } from '../../Utils/UIHelp';\nimport BindNode from '../BindNode';\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class MaskGlobal extends BindNode {\n    public _nd_mask: cc.Node = null;\n    public _nd_loading: cc.Node = null;\n    public isShowLoading: boolean = false;\n\n    onLoad() {\n        //设置最层级\n        this.node.zIndex = EPANEL_ZORDER.MASK;\n    }\n\n    start() {\n        /**\n         * 适用方法\n         * ListenerManager.dispatch(FrameMsgType.ON_MASK,true,true);\n         */\n        this._nd_mask.on(cc.Node.EventType.TOUCH_START, this.on_touchStart, this);\n        ListenerManager.on(FrameMsgType.ON_MASK, this.onMask, this);\n        this._nd_loading.active = false;\n        this._nd_mask.active = false;\n    }\n\n    onMask(isState: boolean, isShowLoading: boolean = false) {\n        this._nd_mask.active = isState;\n        this.isShowLoading = isShowLoading;\n        this.SetLoading(this.isShowLoading);\n    }\n\n    on_touchStart() {\n        if (this.isShowLoading) {\n            return;\n        }\n        UIHelp.showTip('请稍后再操作');\n    }\n\n    SetLoading(isShowLoading: boolean) {\n        this._nd_loading.active = isShowLoading;\n    }\n}\n"]}