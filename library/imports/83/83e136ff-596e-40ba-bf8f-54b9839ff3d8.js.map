{"version":3,"sources":["assets\\game\\scripts\\UI\\Item\\GameUI.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qFAAoF;AACpF,iEAAgE;AAChE,kDAAiD;AACjD,6DAA4D;AAC5D,mCAA8B;AAC9B,mCAA8B;AAGxB,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAoC,0BAAY;IAAhD;QAAA,qEA0CC;QAvCW,YAAM,GAAY,IAAI,CAAC;QAEvB,YAAM,GAAY,IAAI,CAAC;QAEvB,eAAS,GAAG,CAAC,CAAC;;IAmC1B,CAAC;IAlCG,uBAAM,GAAN;QACI,iCAAe,CAAC,EAAE,CAAC,qBAAS,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;QACrE,iCAAe,CAAC,EAAE,CAAC,qBAAS,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QACjE,iCAAe,CAAC,EAAE,CAAC,qBAAS,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;IAC1E,CAAC;IAED,0BAAS,GAAT;QACI,iCAAe,CAAC,GAAG,CAAC,qBAAS,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;QACtE,iCAAe,CAAC,GAAG,CAAC,qBAAS,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAClE,iCAAe,CAAC,GAAG,CAAC,qBAAS,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;IAC3E,CAAC;IAEO,gCAAe,GAAvB;QACI,eAAM,CAAC,QAAQ,EAAE,CAAC;QAClB,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IAEO,wBAAO,GAAf;QACI,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,sBAAsB,EAAE,CAAC;IAClC,CAAC;IAEO,uBAAM,GAAd;QACI,IAAI,CAAC,SAAS,GAAG,6BAAa,CAAC,UAAU,CAAC,SAAS,CAAC;QACpD,IAAI,IAAI,CAAC,SAAS,KAAK,CAAC,EAAE;YACtB,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,gBAAM,CAAC,CAAC,QAAQ,EAAE,CAAC;SAC/C;aAAM;YACH,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,gBAAM,CAAC,CAAC,QAAQ,EAAE,CAAC;SAC/C;IACL,CAAC;IAtCD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;0CACa;IAE/B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;0CACa;IALd,MAAM;QAD1B,OAAO;OACa,MAAM,CA0C1B;IAAD,aAAC;CA1CD,AA0CC,CA1CmC,EAAE,CAAC,SAAS,GA0C/C;kBA1CoB,MAAM","file":"","sourceRoot":"/","sourcesContent":["import { ListenerManager } from \"../../../../frame/scripts/Manager/ListenerManager\";\r\nimport { UIHelp } from \"../../../../frame/scripts/Utils/UIHelp\";\r\nimport { EventType } from \"../../Data/EventType\";\r\nimport { EditorManager } from \"../../Manager/EditorManager\";\r\nimport Game_1 from \"./Game_1\";\r\nimport Game_2 from \"./Game_2\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GameUI extends cc.Component {\r\n\r\n    @property(cc.Node)\r\n    private game_1: cc.Node = null;\r\n    @property(cc.Node)\r\n    private game_2: cc.Node = null;\r\n\r\n    private gameIndex = 0;\r\n    onLoad() {\r\n        ListenerManager.on(EventType.ENTER_GAME, this.handleEnterGame, this);\r\n        ListenerManager.on(EventType.GAME_RECONNECT, this.resetUI, this);\r\n        ListenerManager.on(EventType.GAME_REPLAY, this.handleEnterGame, this);\r\n    }\r\n\r\n    onDestroy() {\r\n        ListenerManager.off(EventType.ENTER_GAME, this.handleEnterGame, this);\r\n        ListenerManager.off(EventType.GAME_RECONNECT, this.resetUI, this);\r\n        ListenerManager.off(EventType.GAME_REPLAY, this.handleEnterGame, this);\r\n    }\r\n\r\n    private handleEnterGame() {\r\n        UIHelp.showMask();\r\n        this.initUI();\r\n    }\r\n\r\n    private resetUI() {\r\n        this.initUI();\r\n        this.unscheduleAllCallbacks();        \r\n    }\r\n\r\n    private initUI() {\r\n        this.gameIndex = EditorManager.editorData.gameIndex;\r\n        if (this.gameIndex === 0) {\r\n            this.game_1.active = true;\r\n            this.game_2.active = false;\r\n            this.game_1.getComponent(Game_1).initGame();\r\n        } else {\r\n            this.game_1.active = false;\r\n            this.game_2.active = true;\r\n            this.game_2.getComponent(Game_2).initGame();\r\n        }\r\n    }\r\n}\r\n"]}