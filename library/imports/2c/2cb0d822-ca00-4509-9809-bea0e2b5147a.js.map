{"version":3,"sources":["assets\\game\\scripts\\UI\\Item\\Game_1.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iEAAgE;AAChE,6CAAwC;AAGlC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAoC,0BAAY;IAAhD;;IA8GA,CAAC;IA5GU,yBAAQ,GAAf;QACI,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC;QAClD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC;QAChD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;QACvD,IAAI,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IAEO,2BAAU,GAAlB;QACI,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;QACxD,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;QACzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;YAC/C,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC;YACjC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;YAClE,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;YAClE,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;SACtE;QACD,WAAW;QACX,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;YAC/C,IAAI,IAAI,GAAG,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAClC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;SACtF;QACD,IAAI,CAAC,YAAY,CAAC;YACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;gBAC/C,IAAI,IAAI,GAAG,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAClC,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC;gBACxD,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;aAClD;YACD,eAAM,CAAC,SAAS,EAAE,CAAC;QACvB,CAAC,EAAE,GAAG,GAAG,UAAU,CAAC,aAAa,CAAC,CAAC;IACvC,CAAC;IAEO,2BAAU,GAAlB,UAAmB,IAAS;QAA5B,iBA4EC;QA3EG,eAAM,CAAC,QAAQ,EAAE,CAAC;QAClB,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QAClD,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QAClD,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;QACtD,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC;QAC7D,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;QACxD,IAAI,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;QAC1D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;YAC/C,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,qBAAW,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;SACxE;QACD,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,qBAAW,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QACzD,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,qBAAW,CAAC,CAAC,QAAQ,EAAE,CAAC;QAEhE,IAAI,OAAO,CAAC,OAAO,IAAI,CAAC,EAAE;YACtB,IAAI,CAAC,YAAY,CAAC;gBACd,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC;oBAC5C,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,IAAI,EAAE,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;gBACzD,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;gBAEX,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAC,KAAK,EAAE,GAAG,EAAC,CAAC,CAAC,IAAI,CAAC;oBAChF,kEAAkE;oBAClE,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;oBACvD,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;oBACtD,eAAM,CAAC,SAAS,EAAE,CAAC;gBACvB,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;gBAEX,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC;gBAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;oBAChD,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;iBAC1C;gBACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;oBAChD,IAAI,CAAC,IAAI,QAAQ,EAAE;wBACf,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;qBACzC;iBACJ;gBACD,KAAI,CAAC,YAAY,CAAC;oBACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;wBAC/C,IAAI,SAAS,GAAG,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,qBAAW,CAAC,CAAC,YAAY,EAAE,CAAC;wBAChF,IAAI,CAAC,SAAS,EAAE;4BACZ,IAAI,KAAK,GAAG,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,qBAAW,CAAC,CAAC,QAAQ,EAAE,CAAC;4BACxE,IAAI,GAAG,GAAG,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC;4BAC/C,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,GAAG,EAAG,QAAQ,EAAE,GAAG,EAAC,CAAC,CAAC,KAAK,EAAE,CAAC;yBACnF;qBACJ;gBACL,CAAC,EAAE,CAAC,CAAC,CAAC;YACV,CAAC,EAAE,CAAC,CAAC,CAAC;SACT;aAAM;YACH,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAC,QAAQ,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAC,KAAK,EAAE,GAAG,EAAC,CAAC,CAAC,IAAI,CAAC;gBAChF,kEAAkE;gBAClE,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;gBACvD,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;gBACtD,eAAM,CAAC,SAAS,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;YAEX,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC;YAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;gBAChD,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC;aAC1C;YACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;gBAChD,IAAI,CAAC,IAAI,QAAQ,EAAE;oBACf,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC;iBACzC;aACJ;YACD,IAAI,CAAC,YAAY,CAAC;gBACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,aAAa,EAAE,CAAC,EAAE,EAAE;oBAC/C,IAAI,SAAS,GAAG,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,qBAAW,CAAC,CAAC,YAAY,EAAE,CAAC;oBAChF,IAAI,CAAC,SAAS,EAAE;wBACZ,IAAI,KAAK,GAAG,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,qBAAW,CAAC,CAAC,QAAQ,EAAE,CAAC;wBACxE,IAAI,GAAG,GAAG,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC;wBAC/C,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,GAAG,EAAG,QAAQ,EAAE,GAAG,EAAC,CAAC,CAAC,KAAK,EAAE,CAAC;qBACnF;iBACJ;YACL,CAAC,EAAE,CAAC,CAAC,CAAC;SACT;IAEL,CAAC;IA7GgB,MAAM;QAD1B,OAAO;OACa,MAAM,CA8G1B;IAAD,aAAC;CA9GD,AA8GC,CA9GmC,EAAE,CAAC,SAAS,GA8G/C;kBA9GoB,MAAM","file":"","sourceRoot":"/","sourcesContent":["import { UIHelp } from \"../../../../frame/scripts/Utils/UIHelp\";\r\nimport Game_1_Type from \"./Game_1_Type\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Game_1 extends cc.Component {\r\n\r\n    public initGame() {\r\n        this.node.getChildByName('paizi_1').opacity = 255;\r\n        this.node.getChildByName('paizi_2').opacity = 0;\r\n        this.node.getChildByName('right_panel').active = false;\r\n        this.initEffect();\r\n    }\r\n\r\n    private initEffect() {\r\n        let ditu_panel = this.node.getChildByName('ditu_panel');\r\n        ditu_panel.active = true;\r\n        for (let i = 0; i < ditu_panel.childrenCount; i++) {\r\n            ditu_panel.children[i].scale = 0;\r\n            ditu_panel.children[i].getChildByName(\"highLight\").active = false;\r\n            ditu_panel.children[i].getChildByName(\"game_node\").active = false;\r\n            ditu_panel.children[i].getChildByName(\"touch_mask\").active = false;\r\n        }\r\n        //所有子节点逐个出现\r\n        for (let i = 0; i < ditu_panel.childrenCount; i++) {\r\n            let node = ditu_panel.children[i];\r\n            cc.tween(node).delay(i * 0.2).to(0.3, { scale: 1 }, { easing: 'backOut' }).start();\r\n        }\r\n        this.scheduleOnce(() => {\r\n            for (let i = 0; i < ditu_panel.childrenCount; i++) {\r\n                let node = ditu_panel.children[i];\r\n                node.getChildByName(\"highLight\").color = cc.Color.WHITE;\r\n                node.getChildByName(\"highLight\").active = true;\r\n            }\r\n            UIHelp.closeMask();\r\n        }, 0.2 * ditu_panel.childrenCount);\r\n    }\r\n\r\n    private onClickMap(data: any) {\r\n        UIHelp.showMask();\r\n        let paizi_1 = this.node.getChildByName('paizi_1');\r\n        let paizi_2 = this.node.getChildByName('paizi_2');\r\n        data.target.getChildByName(\"highLight\").active = true;\r\n        data.target.getChildByName(\"highLight\").color = cc.Color.RED;\r\n        let ditu_panel = this.node.getChildByName('ditu_panel');\r\n        let right_panel = this.node.getChildByName('right_panel');\r\n        for (let i = 0; i < ditu_panel.childrenCount; i++) {\r\n            ditu_panel.children[i].getComponent(Game_1_Type).setIsCurrent(false);\r\n        }\r\n        data.target.getComponent(Game_1_Type).setIsCurrent(true);\r\n        let curIndex = data.target.getComponent(Game_1_Type).getIndex();\r\n\r\n        if (paizi_2.opacity == 0) {\r\n            this.scheduleOnce(() => {\r\n                cc.tween(paizi_1).to(0.25, { opacity: 0 }).call(() => {\r\n                    cc.tween(paizi_2).to(0.25, { opacity: 255 }).start();\r\n                }).start();\r\n\r\n                cc.tween(data.target).to(0.5, {position: cc.v3(0, 35) }).to(0.5, {scale: 2.6}).call(() => {\r\n                    // data.target.getChildByName(\"highLight\").color = cc.Color.WHITE;\r\n                    data.target.getChildByName(\"touch_mask\").active = true;\r\n                    data.target.getChildByName(\"game_node\").active = true;\r\n                    UIHelp.closeMask();\r\n                }).start();\r\n\r\n                right_panel.active = true;\r\n                for (let i = 0; i < right_panel.childrenCount; i++) {\r\n                    right_panel.children[i].active = false;\r\n                }\r\n                for (let i = 0; i < right_panel.childrenCount; i++) {\r\n                    if (i != curIndex) {\r\n                        right_panel.children[i].active = true;\r\n                    }\r\n                }\r\n                this.scheduleOnce(() => {\r\n                    for (let i = 0; i < ditu_panel.childrenCount; i++) {\r\n                        let isCurrent = ditu_panel.children[i].getComponent(Game_1_Type).getIsCurrent();\r\n                        if (!isCurrent) {\r\n                            let index = ditu_panel.children[i].getComponent(Game_1_Type).getIndex();\r\n                            let pos = right_panel.children[index].position;\r\n                            cc.tween(ditu_panel.children[i]).to(0.5, { scale: 0.5 , position: pos}).start();\r\n                        }\r\n                    }\r\n                }, 0);\r\n            }, 1);\r\n        } else {\r\n            cc.tween(data.target).to(0.5, {position: cc.v3(0, 35) }).to(0.5, {scale: 2.6}).call(() => {\r\n                // data.target.getChildByName(\"highLight\").color = cc.Color.WHITE;\r\n                data.target.getChildByName(\"touch_mask\").active = true;\r\n                data.target.getChildByName(\"game_node\").active = true;\r\n                UIHelp.closeMask();\r\n            }).start();\r\n\r\n            right_panel.active = true;\r\n            for (let i = 0; i < right_panel.childrenCount; i++) {\r\n                right_panel.children[i].active = false;\r\n            }\r\n            for (let i = 0; i < right_panel.childrenCount; i++) {\r\n                if (i != curIndex) {\r\n                    right_panel.children[i].active = true;\r\n                }\r\n            }\r\n            this.scheduleOnce(() => {\r\n                for (let i = 0; i < ditu_panel.childrenCount; i++) {\r\n                    let isCurrent = ditu_panel.children[i].getComponent(Game_1_Type).getIsCurrent();\r\n                    if (!isCurrent) {\r\n                        let index = ditu_panel.children[i].getComponent(Game_1_Type).getIndex();\r\n                        let pos = right_panel.children[index].position;\r\n                        cc.tween(ditu_panel.children[i]).to(0.5, { scale: 0.5 , position: pos}).start();\r\n                    }\r\n                }\r\n            }, 0);\r\n        }\r\n\r\n    }\r\n}\r\n"]}