{"version":3,"sources":["assets\\game\\scripts\\UI\\Item\\GameUI.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { ListenerManager } from \"../../../../frame/scripts/Manager/ListenerManager\";\r\nimport { SoundManager } from \"../../../../frame/scripts/Manager/SoundManager\";\r\nimport { SyncDataManager } from \"../../../../frame/scripts/Manager/SyncDataManager\";\r\nimport { Tools } from \"../../../../frame/scripts/Utils/Tools\";\r\nimport { UIHelp } from \"../../../../frame/scripts/Utils/UIHelp\";\r\nimport { EventType } from \"../../Data/EventType\";\r\nimport { EditorManager } from \"../../Manager/EditorManager\";\r\nimport EditMaoZiArea from \"./EditMaoZiArea\";\r\nimport GameMaozi from \"./GameMaozi\";\r\nimport GameMaoziDrag from \"./GameMaoziDrag\";\r\nimport Role from \"./Role\";\r\nimport { SoundConfig } from \"./SoundConfig\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GameUI extends cc.Component {\r\n\r\n    @property(cc.Node)\r\n    private rolePanel: cc.Node = null;\r\n    @property(cc.Node)\r\n    private optionPanel: cc.Node = null;\r\n    @property(cc.Node)\r\n    private btn_check: cc.Node = null;\r\n    @property(cc.Node)\r\n    private options: cc.Node[] = [];\r\n    @property(cc.Label)\r\n    private tigan: cc.Label = null;\r\n\r\n    private roleStartX: number = 1900;\r\n    private optionPanelStartY: number = -735;\r\n    private optionPanelEndY: number = -420;\r\n\r\n    onLoad() {\r\n        ListenerManager.on(EventType.ENTER_GAME, this.handleEnterGame, this);\r\n        ListenerManager.on(EventType.GAME_RECONNECT, this.resetUI, this);\r\n        ListenerManager.on(EventType.GAME_REPLAY, this.handleEnterGame, this);\r\n        ListenerManager.on(EventType.GAME_MAOZI_DRAG_END, this.handleDragEnd, this);\r\n    }\r\n\r\n    onDestroy() {\r\n        ListenerManager.off(EventType.ENTER_GAME, this.handleEnterGame, this);\r\n        ListenerManager.off(EventType.GAME_RECONNECT, this.resetUI, this);\r\n        ListenerManager.off(EventType.GAME_REPLAY, this.handleEnterGame, this);\r\n        ListenerManager.off(EventType.GAME_MAOZI_DRAG_END, this.handleDragEnd, this);\r\n    }\r\n\r\n    private handleEnterGame() {\r\n        UIHelp.showMask();\r\n        this.initUI();\r\n        this.initAni();\r\n    }\r\n\r\n    private resetUI() {\r\n        this.initUI();\r\n        this.unscheduleAllCallbacks();\r\n        cc.Tween.stopAllByTarget(this.rolePanel);\r\n        cc.Tween.stopAllByTarget(this.optionPanel);\r\n        this.rolePanel.x = 0;\r\n        if (EditorManager.editorData.isPaidui) {\r\n            this.setSideIdle();\r\n        } else {\r\n            this.setTurn();\r\n        }\r\n        this.showMaozi();\r\n        this.showDialog();\r\n        this.optionPanel.y = this.optionPanelEndY;\r\n        UIHelp.closeMask();\r\n\r\n        for (let i = 0; i < this.options.length; i++) {\r\n            this.options[i].getComponent(GameMaoziDrag).reset();\r\n        }\r\n        let answer = SyncDataManager.getSyncData().customSyncData.answer;\r\n        for (let i = 0; i < answer.length; i++) {\r\n            if (answer[i] != null) {\r\n                let maoziNode = this.rolePanel.children[i].getComponent(Role).getMaoziNode();\r\n                let option = null;\r\n                for (let j = 0; j < this.options.length; j++) {\r\n                    if (this.options[j].name == answer[i]) {\r\n                        option = this.options[j];\r\n                    }\r\n                }\r\n                if (option != null) {\r\n\r\n                    maoziNode.active = true;\r\n                    option.parent = maoziNode;\r\n                    option.position = cc.v3(0, 0);\r\n                }\r\n            }\r\n        }\r\n        this.handleDragEnd();\r\n    }\r\n\r\n    private initUI() {\r\n        this.tigan.string = EditorManager.editorData.tigan;\r\n        this.tigan.node.parent.active = EditorManager.editorData.tigan.length > 0;\r\n        this.rolePanel.x = this.roleStartX;\r\n        this.optionPanel.y = this.optionPanelStartY;\r\n        this.btn_check.opacity = 0;\r\n        this.setRolePos();\r\n    }\r\n\r\n    private setRolePos() {\r\n        for (let j = 0; j < this.rolePanel.childrenCount; j++) {\r\n            this.rolePanel.children[j].active = false;\r\n        }\r\n        for (let i = 0; i < EditorManager.editorData.jueseArr.length; i++) {\r\n            let roleIndex = EditorManager.editorData.jueseArr[i];\r\n            for (let j = 0; j < this.rolePanel.childrenCount; j++) {\r\n                if (this.rolePanel.children[j].getComponent(Role).getIndex() == roleIndex) {\r\n                    this.rolePanel.children[j].getComponent(Role).init(i);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private initAni() {\r\n        this.setWalk();\r\n        cc.tween(this.rolePanel).to(5.5, { x: 0 }).call(() => {\r\n            if (EditorManager.editorData.isPaidui) {\r\n                this.setSideIdle();\r\n            } else {\r\n                this.setTurn();\r\n            }\r\n            this.scheduleOnce(() => {\r\n                this.showMaozi();\r\n                this.showDialog();\r\n            }, 1)\r\n            cc.tween(this.optionPanel).to(1, { y: this.optionPanelEndY }).call(() => {\r\n                UIHelp.closeMask();\r\n            }).start();\r\n        }).start();\r\n\r\n    }\r\n\r\n    private setWalk() {\r\n        for (let i = 0; i < this.rolePanel.childrenCount; i++) {\r\n            let role = this.rolePanel.children[i].getChildByName(\"role\");\r\n            if (this.rolePanel.children[i].getComponent(Role).getIndex() == 2) {\r\n                Tools.playSpine(role.getComponent(sp.Skeleton), \"walk\", true);\r\n            } else {\r\n                Tools.playSpine(role.getComponent(sp.Skeleton), \"walk_side\", true);\r\n            }\r\n        }\r\n    }\r\n\r\n    private setTurn() {\r\n        for (let i = 0; i < this.rolePanel.childrenCount; i++) {\r\n            let role = this.rolePanel.children[i].getChildByName(\"role\");\r\n            Tools.playSpine(role.getComponent(sp.Skeleton), \"turn\", false, () => {\r\n                Tools.playSpine(role.getComponent(sp.Skeleton), \"idle_front\", true);\r\n            });\r\n        }\r\n    }\r\n\r\n    private setSideIdle() {\r\n        for (let i = 0; i < this.rolePanel.childrenCount; i++) {\r\n            let role = this.rolePanel.children[i].getChildByName(\"role\");\r\n            Tools.playSpine(role.getComponent(sp.Skeleton), \"idle_side\", true);\r\n        }\r\n    }\r\n\r\n    private showMaozi() {\r\n        for (let i = 0; i < this.rolePanel.childrenCount; i++) {\r\n            this.rolePanel.children[i].getComponent(Role).showMaozi();\r\n        }\r\n    }\r\n\r\n    private showDialog() {\r\n        let index = 0;\r\n        let delay = 0;\r\n        for (let i = 0; i < this.rolePanel.childrenCount; i++) {\r\n            if (EditorManager.editorData.jueseFayanArr[i] != \"\") {\r\n                delay++;\r\n                this.scheduleOnce(() => {\r\n                    index++;\r\n                    this.rolePanel.children[i].getComponent(Role).showDialog(index);\r\n                }, 4 - delay);\r\n            }\r\n        }\r\n    }\r\n\r\n    private enableCheck = false\r\n    private handleDragEnd() {\r\n        let answer = [null, null, null, null];\r\n        for (let i = 0; i < this.rolePanel.childrenCount; i++) {\r\n            let roleMaozi = this.rolePanel.children[i].getComponent(Role).getMaoziNode();\r\n            if (roleMaozi.childrenCount > 0 && roleMaozi.children[0].getComponent(GameMaoziDrag) && this.rolePanel.children[i].getComponent(Role).getIndex() == 2) {\r\n                this.enableCheck = true;\r\n                this.btn_check.opacity = 255;\r\n            }\r\n            if (roleMaozi.childrenCount > 0 && roleMaozi.children[0].getComponent(GameMaoziDrag)) {\r\n                answer[i] = roleMaozi.children[0].name;\r\n            }\r\n        }\r\n        SyncDataManager.getSyncData().customSyncData.answer = answer;\r\n    }\r\n\r\n    private onClickCheck() {\r\n        if (!this.enableCheck) {\r\n            return;\r\n        }\r\n        UIHelp.showMask();\r\n        let isRight = false;\r\n        console.log(\"EditorManager.editorData.maoziArr\", EditorManager.editorData.maoziArr);\r\n        for (let i = 0; i < this.rolePanel.childrenCount; i++) {\r\n            let roleMaozi = this.rolePanel.children[i].getComponent(Role).getMaoziNode();\r\n            if (roleMaozi.childrenCount > 0 && roleMaozi.children[0].getComponent(GameMaoziDrag)) {\r\n                if (this.rolePanel.children[i].getComponent(Role).getIndex() == 2) {\r\n                    if (roleMaozi.children[0].getComponent(GameMaoziDrag).getIndex() == EditorManager.editorData.maoziArr[this.rolePanel.children[i].getComponent(Role).getDuiliexIndex()]) {\r\n                        isRight = true;\r\n                    }\r\n                }\r\n                if (isRight) {\r\n                    if (roleMaozi.children[0].getComponent(GameMaoziDrag).getIndex() != EditorManager.editorData.maoziArr[this.rolePanel.children[i].getComponent(Role).getDuiliexIndex()]) {\r\n                        cc.tween(roleMaozi.children[0])\r\n                            .then(cc.bezierTo(0.3, [cc.v2(0, 0), cc.v2(100, 100), cc.v2(100, -600)]).easing(cc.easeSineOut())).call(() => {\r\n                                roleMaozi.children[0].getComponent(GameMaoziDrag).reset();\r\n                            }).start();\r\n                    }\r\n                } else {\r\n                    if (this.rolePanel.children[i].getComponent(Role).getIndex() == 2) {\r\n                        cc.tween(roleMaozi.children[0])\r\n                            .then(cc.bezierTo(0.3, [cc.v2(0, 0), cc.v2(100, 100), cc.v2(100, -600)]).easing(cc.easeSineOut())).call(() => {\r\n                                roleMaozi.children[0].getComponent(GameMaoziDrag).reset();\r\n                            }).start();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (isRight) {\r\n            this.handleRight();\r\n        } else {\r\n            this.handleWrong();\r\n        }\r\n    }\r\n\r\n    private handleRight() {\r\n        ListenerManager.dispatch(EventType.SUBMIT, true);\r\n        SoundManager.playEffect(SoundConfig.soudlist[\"正确反馈01\"], false, false, false);\r\n        for (let i = 0; i < this.rolePanel.childrenCount; i++) {\r\n            if (this.rolePanel.children[i].getComponent(Role).getIndex() == 2) {\r\n                let role = this.rolePanel.children[i].getChildByName(\"role\");\r\n                Tools.playSpine(role.getComponent(sp.Skeleton), \"huanhu\", true);\r\n            }\r\n        }\r\n        this.scheduleOnce(() => {\r\n            ListenerManager.dispatch(EventType.GAME_OVER);\r\n        }, 2);\r\n    }\r\n\r\n    private handleWrong() {\r\n        this.enableCheck = false;\r\n        this.btn_check.opacity = 0;\r\n        ListenerManager.dispatch(EventType.SUBMIT, false);\r\n        SoundManager.playEffect(SoundConfig.soudlist[\"错误反馈01\"], false, false, false, (() => {\r\n            for (let i = 0; i < this.rolePanel.childrenCount; i++) {\r\n                if (this.rolePanel.children[i].getComponent(Role).getIndex() == 2) {\r\n                    let role = this.rolePanel.children[i].getChildByName(\"role\");\r\n                    let aniName = EditorManager.editorData.isPaidui ? \"idle_side\" : \"idle_front\";\r\n                    Tools.playSpine(role.getComponent(sp.Skeleton), aniName, true);\r\n                }\r\n            }\r\n            UIHelp.closeMask();\r\n        }));\r\n        for (let i = 0; i < this.rolePanel.childrenCount; i++) {\r\n            if (this.rolePanel.children[i].getComponent(Role).getIndex() == 2) {\r\n                let role = this.rolePanel.children[i].getChildByName(\"role\");\r\n                Tools.playSpine(role.getComponent(sp.Skeleton), \"cuowu\", true);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n"]}