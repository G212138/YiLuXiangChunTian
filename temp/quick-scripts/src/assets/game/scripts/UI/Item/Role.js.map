{"version":3,"sources":["assets\\game\\scripts\\UI\\Item\\Role.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { EditorManager } from \"../../Manager/EditorManager\";\r\nimport GameMaozi from \"./GameMaozi\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Role extends cc.Component {\r\n\r\n    @property(cc.Node)\r\n    private maozi_node_front: cc.Node = null;\r\n    @property(cc.Node)\r\n    private maozi_node_side: cc.Node = null;\r\n    @property(cc.SpriteFrame)\r\n    private maozi_img: cc.SpriteFrame[] = [];\r\n    @property(cc.Integer)\r\n    private index: Number = 0;\r\n    @property(cc.Node)\r\n    private xuxian_maozi: cc.Node = null;\r\n    @property(cc.Node)\r\n    private dialog_left: cc.Node = null;\r\n    @property(cc.Node)\r\n    private dialog_right: cc.Node = null;\r\n\r\n    private duilieIndex: number = 0;\r\n    private maozi_node: cc.Node = null;\r\n\r\n    public init(data) {\r\n        this.duilieIndex = data;\r\n        this.node.zIndex = data;\r\n        this.node.setSiblingIndex(data);\r\n        this.node.active = true;\r\n        this.maozi_node_front.active = false;\r\n        this.maozi_node_side.active = false;\r\n        this.maozi_node_front.removeAllChildren();\r\n        this.maozi_node_side.removeAllChildren();\r\n        this.xuxian_maozi.active = false;\r\n    }\r\n\r\n    public showMaozi() {\r\n        let pipiDuilieIndex = EditorManager.editorData.jueseArr.indexOf(2);\r\n        console.log(\"皮皮在第\", pipiDuilieIndex)\r\n        if (EditorManager.editorData.isPaidui) {\r\n            this.maozi_node_front.active = false;\r\n            this.maozi_node_side.active = true;\r\n\r\n            this.maozi_node = this.maozi_node_side;\r\n        } else {\r\n            this.maozi_node = this.maozi_node_front;\r\n\r\n            this.maozi_node_front.active = true;\r\n            this.maozi_node_side.active = false;\r\n        }\r\n        if (this.index == 2) {\r\n            this.maozi_node_front.active = false;\r\n            this.maozi_node_side.active = false;\r\n            this.xuxian_maozi.active = true;\r\n        }\r\n        if (this.duilieIndex > pipiDuilieIndex) {\r\n            this.maozi_node_front.active = false;\r\n            this.maozi_node_side.active = false;\r\n            this.xuxian_maozi.active = true;\r\n        } else if (this.index != 2) {\r\n            //创建一个新的图片\r\n            let maozi = new cc.Node();\r\n            let maozi_sprite = maozi.addComponent(cc.Sprite);\r\n            maozi_sprite.spriteFrame = this.maozi_img[EditorManager.editorData.maoziArr[this.duilieIndex]];\r\n            if (EditorManager.editorData.maoziArr[this.duilieIndex] != null) {\r\n                maozi.parent = this.maozi_node;\r\n            }\r\n            this.node.getChildByName(\"maozi\").getComponent(GameMaozi).setEnable(false);\r\n        }\r\n\r\n    }\r\n\r\n    public showDialog(index: number) {\r\n        let dialog = this.dialog_left;\r\n        if (this.duilieIndex >= 2) {\r\n            dialog = this.dialog_right;\r\n        }\r\n        if (EditorManager.editorData.jueseFayanArr[this.duilieIndex] != \"\") {\r\n            dialog.active = true;\r\n            dialog.getChildByName(\"text\").getComponent(cc.Label).string = EditorManager.editorData.jueseFayanArr[this.duilieIndex];\r\n            dialog.getChildByName(\"index\").getComponent(cc.Label).string = index.toString();\r\n        }\r\n    }\r\n\r\n    public getIndex(): Number {\r\n        return this.index;\r\n    }\r\n\r\n    // public setDuilieIndex(index: number) {\r\n    //     this.duilieIndex = index;\r\n    // }\r\n\r\n    public getDuiliexIndex(): number {\r\n        return this.duilieIndex;\r\n    }\r\n\r\n    public getMaoziNode(): cc.Node {\r\n        return this.maozi_node;\r\n    }\r\n}\r\n"]}