{"version":3,"sources":["assets\\game\\scripts\\UI\\Item\\Game_2_type.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { ListenerManager } from \"../../../../frame/scripts/Manager/ListenerManager\";\r\nimport { SoundManager } from \"../../../../frame/scripts/Manager/SoundManager\";\r\nimport { SyncDataManager } from \"../../../../frame/scripts/Manager/SyncDataManager\";\r\nimport { EventType } from \"../../Data/EventType\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Game_2_type extends cc.Component {\r\n\r\n    @property(cc.Integer)\r\n    private index: number = 0;\r\n    @property(cc.Node)\r\n    private icon: cc.Node[] = [];\r\n    @property(cc.Boolean)\r\n    private isCanLine: boolean = false;\r\n    @property(cc.Sprite)\r\n    private btn_yes: cc.Sprite = null;\r\n    @property(cc.Sprite)\r\n    private btn_no: cc.Sprite = null;\r\n    @property(cc.SpriteFrame)\r\n    private btn_yes_img: cc.SpriteFrame[] = [];\r\n    @property(cc.SpriteFrame)\r\n    private btn_no_img: cc.SpriteFrame[] = [];\r\n\r\n    private _isCurrent: boolean = false;\r\n    private _curPointIndex: number = null;\r\n    private graphics: cc.Graphics = null;\r\n    private _isDrawing: boolean = false;\r\n\r\n    private lineArr: number[][][] = [\r\n        [[1, 2], [2, 3], [3, 4], [4, 5], [5, 6], [6, 7], [7, 8], [8, 1], [2, 8], [2, 6], [4, 6]],\r\n        [[1, 2], [2, 3], [3, 4], [4, 5], [5, 6], [6, 7], [7, 8], [8, 9], [9, 1], [1, 10], [1, 15]\r\n            , [2, 10], [2, 11], [4, 11], [4, 12], [6, 12], [6, 13], [7, 13], [7, 14], [9, 14], [9, 15], [10, 15], [10, 11], [11, 12], [12, 13], [13, 14], [14, 15]],\r\n        [[1, 2], [2, 3], [3, 4], [4, 5], [5, 1], [1, 4], [2, 4]],\r\n        [[1, 2], [2, 3], [3, 4], [4, 5], [5, 6], [6, 7], [7, 8], [8, 1], [2, 4], [4, 6], [6, 8], [8, 2]],\r\n        [],\r\n    ];\r\n    private selfLineArr: number[][] = [];\r\n    private hasChoose: boolean = false;\r\n\r\n    onLoad() {\r\n        this.graphics = this.node.getChildByName(\"dragLine_node\").getComponent(cc.Graphics);\r\n        ListenerManager.on(EventType.GAME_RECONNECT, this.handleReConnect, this);\r\n    }\r\n\r\n    onDestroy() {\r\n        ListenerManager.off(EventType.GAME_RECONNECT, this.handleReConnect, this);\r\n    }\r\n\r\n    private handleReConnect() {\r\n        this._curPointIndex = SyncDataManager.getSyncData().customSyncData.level_2_curPointIndex[this.index];\r\n        this.selfLineArr = SyncDataManager.getSyncData().customSyncData.level_2_selfData[this.index];\r\n        this.hasChoose = SyncDataManager.getSyncData().customSyncData.level_2_hasChoose[this.index];\r\n        if (this.hasChoose) {\r\n            this.handleShow();\r\n        } else {\r\n            this.node.getChildByName(\"touch_mask\").active = false;\r\n            this.node.getChildByName(\"game_node\").active = false;\r\n        }\r\n        if (SyncDataManager.getSyncData().customSyncData.level_1_finish[this.index]) {\r\n            for (let i = 0; i < this.selfLineArr.length; i++) {\r\n                this.createGreenLine(this.icon[this.selfLineArr[i][0] - 1].position, this.icon[this.selfLineArr[i][1] - 1].position);\r\n            }\r\n        } else {\r\n            for (let i = 0; i < this.selfLineArr.length; i++) {\r\n                this.createLine(this.icon[this.selfLineArr[i][0] - 1].position, this.icon[this.selfLineArr[i][1] - 1].position);\r\n            }\r\n        }\r\n        this.node.getChildByName(\"btn_return\").active = this.selfLineArr.length > 0;\r\n        let btn_yes_state = SyncDataManager.getSyncData().customSyncData.level_2_yes_btn[this.index];\r\n        let btn_no_state = SyncDataManager.getSyncData().customSyncData.level_2_no_btn[this.index];\r\n        this.btn_yes.spriteFrame = this.btn_yes_img[btn_yes_state];\r\n        this.btn_no.spriteFrame = this.btn_no_img[btn_no_state];\r\n    }\r\n\r\n\r\n    private onClickYes() {\r\n        if (this.hasChoose) return;\r\n        if (this.isCanLine) {\r\n            SoundManager.playEffect(\"正确音效\", false);\r\n            this.hasChoose = true;\r\n            SyncDataManager.getSyncData().customSyncData.level_2_hasChoose[this.index] = true;\r\n            this.handleShow();\r\n            this.btn_yes.spriteFrame = this.btn_yes_img[1];\r\n            SyncDataManager.getSyncData().customSyncData.level_2_yes_btn[this.index] = 1;\r\n        } else {\r\n            SoundManager.playEffect(\"错误音效\", false);\r\n            this.btn_yes.spriteFrame = this.btn_yes_img[2];\r\n            SyncDataManager.getSyncData().customSyncData.level_2_yes_btn[this.index] = 2;\r\n        }\r\n    }\r\n\r\n    private onClickNo() {\r\n        if (this.hasChoose) return;\r\n        if (this.isCanLine) {\r\n            SoundManager.playEffect(\"错误音效\", false);\r\n            this.btn_no.spriteFrame = this.btn_no_img[2];\r\n            SyncDataManager.getSyncData().customSyncData.level_2_no_btn[this.index] = 2;\r\n        } else {\r\n            SoundManager.playEffect(\"正确音效\", false);\r\n            this.hasChoose = true;\r\n            SyncDataManager.getSyncData().customSyncData.level_2_hasChoose[this.index] = true;\r\n            this.handleShow();\r\n            this.btn_no.spriteFrame = this.btn_no_img[1];\r\n            SyncDataManager.getSyncData().customSyncData.level_2_no_btn[this.index] = 1;\r\n        }\r\n    }\r\n\r\n    private onClickReset() {\r\n        SoundManager.playEffect(\"点击音效\", false);\r\n        this.node.getChildByName(\"line_node\").removeAllChildren();\r\n        this._curPointIndex = null;\r\n        SyncDataManager.getSyncData().customSyncData.level_2_curPointIndex[this.index] = this._curPointIndex;\r\n        this.graphics.clear();\r\n        this.selfLineArr = [];\r\n        SyncDataManager.getSyncData().customSyncData.level_2_selfData[this.index] = this.selfLineArr;\r\n        this.node.getChildByName(\"btn_return\").active = false;\r\n    }\r\n\r\n    private handleShow() {\r\n        if (this.isCanLine) {\r\n            this.node.getChildByName(\"touch_mask\").active = true;\r\n            this.node.getChildByName(\"game_node\").active = true;\r\n        }\r\n    }\r\n\r\n    private onDragStart(data: any) {\r\n        let pos = data.target.parent.convertToWorldSpaceAR(cc.v2(data.pos.x, data.pos.y));\r\n        this.icon.forEach((item) => {\r\n            if (this.isPosInRect(pos, item) && (this._curPointIndex == null || this._curPointIndex == Number(item.name))) {\r\n                item.getChildByName(\"icon_check\").active = true;\r\n                item.getChildByName(\"icon_check\").scale = 0;\r\n                cc.tween(item.getChildByName(\"icon_check\")).to(0.2, { scale: 1 }, { easing: 'backOut' }).start();\r\n                this._curPointIndex = Number(item.name);\r\n                SyncDataManager.getSyncData().customSyncData.level_2_curPointIndex[this.index] = this._curPointIndex;\r\n                this._isDrawing = true;\r\n                let linePos = this.node.getChildByName(\"dragLine_node\").convertToNodeSpaceAR(pos);\r\n                this.graphics.moveTo(linePos.x, linePos.y);\r\n                this.graphics.strokeColor = cc.Color.RED;\r\n                this.graphics.fillColor = cc.Color.RED;\r\n                this.graphics.lineJoin = cc.Graphics.LineJoin.ROUND;\r\n                this.graphics.lineCap = cc.Graphics.LineCap.ROUND;\r\n                this.graphics.lineWidth = 20;\r\n            }\r\n        });\r\n    }\r\n\r\n    private onDragMove(data: any) {\r\n        let pos = data.target.parent.convertToWorldSpaceAR(cc.v2(data.pos.x, data.pos.y));\r\n        let linePos = this.node.getChildByName(\"dragLine_node\").convertToNodeSpaceAR(pos);\r\n        if (this._isDrawing) {\r\n            this.graphics.clear();\r\n            this.graphics.moveTo(this.icon[this._curPointIndex - 1].position.x, this.icon[this._curPointIndex - 1].position.y);\r\n            this.graphics.lineTo(linePos.x, linePos.y);\r\n            this.graphics.stroke();\r\n        }\r\n        this.icon.forEach((item) => {\r\n            if (this.isPosInRect(pos, item) && (this._curPointIndex != Number(item.name))) {\r\n                if (this.isPointInLine([this._curPointIndex, Number(item.name)], this.lineArr[this.index])) {\r\n                    SoundManager.playEffect(\"正确音效\", false);\r\n                    this.selfLineArr.push([this._curPointIndex, Number(item.name)]);\r\n                    SyncDataManager.getSyncData().customSyncData.level_2_selfData[this.index] = this.selfLineArr;\r\n                    this.createLine(this.icon[this._curPointIndex - 1].position, this.icon[Number(item.name) - 1].position);\r\n\r\n                    this._curPointIndex = Number(item.name);\r\n                    SyncDataManager.getSyncData().customSyncData.level_2_curPointIndex[this.index] = this._curPointIndex;\r\n                    if (item.getChildByName(\"icon_check\").active == false) {\r\n                        item.getChildByName(\"icon_check\").active = true;\r\n                        item.getChildByName(\"icon_check\").scale = 0;\r\n                        cc.tween(item.getChildByName(\"icon_check\")).to(0.2, { scale: 1 }, { easing: 'backOut' }).start();\r\n                        this._curPointIndex = Number(item.name);\r\n                        SyncDataManager.getSyncData().customSyncData.level_2_curPointIndex[this.index] = this._curPointIndex;\r\n                    }\r\n                }\r\n            } else {\r\n                item.getChildByName(\"icon_check\").active = this._curPointIndex == Number(item.name);\r\n            }\r\n        });\r\n    }\r\n\r\n    private onDragEnd(data: any) {\r\n        this._isDrawing = false;\r\n        this.graphics.clear();\r\n        this.icon.forEach((item) => {\r\n            item.getChildByName(\"icon_check\").active = false;\r\n        });\r\n        let pos = data.target.parent.convertToWorldSpaceAR(cc.v2(data.pos.x, data.pos.y));\r\n        data.target.position = cc.Vec3.ZERO;\r\n        data.target.parent = this.node;\r\n        let cueLevelLineArr = this.lineArr[this.index];\r\n        //判断selfLineArr是否跟cueLevelLineArr相等，不考虑数组的顺序及子数组的顺序\r\n        let isSame = true;\r\n        if (this.selfLineArr.length == cueLevelLineArr.length) {\r\n            for (let i = 0; i < this.selfLineArr.length; i++) {\r\n                let isAllIn = false;\r\n                for (let j = 0; j < this.selfLineArr[i].length; j++) {\r\n                    if (this.isPointInLine(this.selfLineArr[i], cueLevelLineArr)) {\r\n                        isAllIn = true;\r\n                        break;\r\n                    }\r\n                    let temp = this.selfLineArr[i][0];\r\n                    this.selfLineArr[i][0] = this.selfLineArr[i][1];\r\n                    this.selfLineArr[i][1] = temp;\r\n                    if (this.isPointInLine(this.selfLineArr[i], cueLevelLineArr)) {\r\n                        isAllIn = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!isAllIn) {\r\n                    isSame = false;\r\n                    break;\r\n                }\r\n            }\r\n        } else {\r\n            isSame = false;\r\n        }\r\n        if (isSame) {\r\n            console.log(\"答案正确\");\r\n            this.handleTrue();\r\n        } else {\r\n            console.log(\"答案错误\");\r\n            // this.handleWrong();\r\n        }\r\n        this.node.getChildByName(\"btn_return\").active = this.selfLineArr.length > 0;\r\n        SyncDataManager.getSyncData().customSyncData.level_2_selfData[this.index] = this.selfLineArr;\r\n    }\r\n\r\n    //判断点组在不在线组里，不考虑顺序\r\n    private isPointInLine(pointArr: number[], lineArr: number[][]): boolean {\r\n        let isPointInLine = false;\r\n        for (let i = 0; i < lineArr.length; i++) {\r\n            if (lineArr[i].length == pointArr.length) {\r\n                let isAllIn = true;\r\n                for (let j = 0; j < pointArr.length; j++) {\r\n                    if (lineArr[i].indexOf(pointArr[j]) == -1) {\r\n                        isAllIn = false;\r\n                        break;\r\n                    }\r\n                }\r\n                if (isAllIn) {\r\n                    isPointInLine = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return isPointInLine;\r\n    }\r\n\r\n    private createLine(startPos: cc.Vec3, endPos: cc.Vec3) {\r\n        let lineNode = new cc.Node();\r\n        lineNode.addComponent(cc.Graphics);\r\n        lineNode.parent = this.node.getChildByName(\"line_node\");\r\n        let graphics = lineNode.getComponent(cc.Graphics);\r\n        graphics.strokeColor = cc.Color.RED;\r\n        graphics.fillColor = cc.Color.RED;\r\n        graphics.lineWidth = 20;\r\n        graphics.lineJoin = cc.Graphics.LineJoin.ROUND;\r\n        graphics.lineCap = cc.Graphics.LineCap.ROUND;\r\n        graphics.moveTo(startPos.x, startPos.y);\r\n        graphics.lineTo(endPos.x, endPos.y);\r\n        graphics.stroke();\r\n    }\r\n\r\n    private isPosInRect(pos: cc.Vec2, point: cc.Node): boolean {\r\n        return this.posInRect(new cc.Vec2(pos.x, pos.y), point);\r\n    }\r\n\r\n    private posInRect(pos: cc.Vec2, rect: cc.Node): boolean {\r\n        let p = rect.parent.convertToWorldSpaceAR(rect.position);\r\n        let lb = cc.v2(p.x - rect.width * rect.scale / 2, p.y - rect.height * rect.scale / 2);\r\n        let rt = cc.v2(p.x + rect.width * rect.scale / 2, p.y + rect.height * rect.scale / 2);\r\n        let b = pos.x >= lb.x && pos.y >= lb.y && pos.x <= rt.x && pos.y <= rt.y;\r\n        return b;\r\n    }\r\n\r\n    private handleTrue() {\r\n        SoundManager.playEffect(\"正确反馈01\", false);\r\n        this.node.getChildByName(\"line_node\").removeAllChildren();\r\n        for (let i = 0; i < this.selfLineArr.length; i++) {\r\n            this.createGreenLine(this.icon[this.selfLineArr[i][0] - 1].position, this.icon[this.selfLineArr[i][1] - 1].position);\r\n        }\r\n    }\r\n\r\n    private createGreenLine(startPos: cc.Vec3, endPos: cc.Vec3) {\r\n        let lineNode = new cc.Node();\r\n        lineNode.addComponent(cc.Graphics);\r\n        lineNode.parent = this.node.getChildByName(\"line_node\");\r\n        let graphics = lineNode.getComponent(cc.Graphics);\r\n        graphics.strokeColor = cc.Color.GREEN;\r\n        graphics.fillColor = cc.Color.GREEN;\r\n        graphics.lineWidth = 20;\r\n        graphics.lineJoin = cc.Graphics.LineJoin.ROUND;\r\n        graphics.lineCap = cc.Graphics.LineCap.ROUND;\r\n        graphics.moveTo(startPos.x, startPos.y);\r\n        graphics.lineTo(endPos.x, endPos.y);\r\n        graphics.stroke();\r\n    }\r\n\r\n    private handleWrong() {\r\n        SoundManager.playEffect(\"错误音效\", false);\r\n        this.node.getChildByName(\"line_node\").removeAllChildren();\r\n        this._curPointIndex = null;\r\n        SyncDataManager.getSyncData().customSyncData.level_2_curPointIndex[this.index] = this._curPointIndex;\r\n        this.graphics.clear();\r\n        this.selfLineArr = [];\r\n        SyncDataManager.getSyncData().customSyncData.level_2_selfData[this.index] = this.selfLineArr;\r\n    }\r\n}\r\n"]}