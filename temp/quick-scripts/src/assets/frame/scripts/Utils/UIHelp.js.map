{"version":3,"sources":["assets\\frame\\scripts\\Utils\\UIHelp.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import GamePanel from '../../../game/scripts/UI/panel/GamePanel';\r\nimport TeacherPanel from '../../../game/scripts/UI/panel/TeacherPanel';\r\nimport { FrameMsgType } from '../Data/FrameMsgType';\r\nimport { ListenerManager } from '../Manager/ListenerManager';\r\nimport { EPANEL_ZORDER, UIManager } from '../Manager/UIManager';\r\nimport { AffirmTips } from '../UI/Panel/AffirmTips';\r\nimport ErrorPanel from '../UI/Panel/ErrorPanel';\r\nimport { OverTips } from '../UI/Panel/OverTips';\r\nimport StarCount from '../UI/Panel/StarCount';\r\nimport SubmissionPanel from '../UI/Panel/SubmissionPanel';\r\nimport { TipUI } from '../UI/Panel/TipUI';\r\nimport UploadAndReturnPanel from '../UI/Panel/UploadAndReturnPanel';\r\n\r\nclass UIHelpClass {\r\n    private static _instance: UIHelpClass = null;\r\n\r\n    public static getInstance(): UIHelpClass {\r\n        if (!this._instance) {\r\n            this._instance = new UIHelpClass();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param message tips文字内容\r\n     */\r\n    public showTip(message: string) {\r\n        let tipUI = UIManager.getUI(TipUI);\r\n        if (!tipUI) {\r\n            UIManager.openUI(TipUI, null, EPANEL_ZORDER.TIPS, () => {\r\n                this.showTip(message);\r\n            });\r\n        } else {\r\n            tipUI.showTip(message);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 结束tip\r\n     * @param type tips类型   0: 错误  1：答对了  2：闯关成功(一直显示不会关闭)\r\n     * @param {string} str           提示内容\r\n     * @param {Function} callback    回调函数\r\n     * @param {string} endTitle      end动效提示文字\r\n     * @param {boolean} isShowReplay     是否显示重玩按钮\r\n     * @param {boolean} isShowClose     是否显示关闭按钮\r\n     * @param {boolean} autoOff     是否自动关闭\r\n     */\r\n    public showOverTips(\r\n        type: number,\r\n        str: string = '',\r\n        callback: Function = null,\r\n        endTitle?: string,\r\n        isShowReplay?: boolean,\r\n        isShowClose: boolean = false,\r\n        autoOff: boolean = true,\r\n    ) {\r\n        let overTips = UIManager.getUI(OverTips);\r\n        if (!overTips) {\r\n            UIManager.openUI(OverTips, null, EPANEL_ZORDER.POPUP, () => {\r\n                this.showOverTips(type, str, callback, endTitle, isShowReplay, autoOff);\r\n            });\r\n        } else {\r\n            overTips.init(type, str, callback, endTitle, isShowReplay, isShowClose, autoOff);\r\n        }\r\n    }\r\n\r\n    public closeOverTips() {\r\n        UIManager.closeUI(OverTips);\r\n    }\r\n\r\n    /**\r\n     * 星级评测页面(学生自己可GameData StudentData数据自动刷新，同步则需要传参)\r\n     * @param isShowReplay 是否显示重玩按钮\r\n     * @param starNum 星数 (不传参数则从ReportManager里取值)\r\n     */\r\n    public showStarCount(isShowReplay?: boolean, starNum?: number): void {\r\n        let starCount = UIManager.getUI(StarCount);\r\n        if (!starCount) {\r\n            UIManager.openUI(StarCount, null, EPANEL_ZORDER.POPUP, () => {\r\n                this.showStarCount(isShowReplay, starNum);\r\n            });\r\n        } else {\r\n            starCount.showStars(isShowReplay, starNum);\r\n        }\r\n    }\r\n\r\n    public closeStarCount() {\r\n        UIManager.closeUI(StarCount);\r\n    }\r\n\r\n    /**\r\n     * 二次确认框\r\n     * @param type tips类型  0:内容tips   1:系统tips\r\n     * @param des tips文字内容\r\n     * @param callback 按钮回调\r\n     * @param btnCloselDes 关闭按钮文字描述\r\n     * @param btnOkDes OK按钮文字描述\r\n     */\r\n    public showAffirmTip(\r\n        type: number,\r\n        des: string,\r\n        callback: (type: number) => void,\r\n        btnCloselDes?: string,\r\n        btnOkDes?: string,\r\n    ) {\r\n        let overTips = UIManager.getUI(AffirmTips);\r\n        if (!overTips) {\r\n            UIManager.openUI(AffirmTips, null, EPANEL_ZORDER.POPUP, () => {\r\n                this.showAffirmTip(type, des, callback, btnCloselDes, btnOkDes);\r\n            });\r\n        } else {\r\n            overTips.init(type, des, callback, btnCloselDes, btnOkDes);\r\n        }\r\n    }\r\n\r\n    public closeAffirmTip() {\r\n        UIManager.closeUI(AffirmTips);\r\n    }\r\n\r\n    /**\r\n     * 错误弹窗\r\n     * @param shuoMing 错误说明\r\n     * @param biaoTi 标题文字\r\n     * @param tiShi 提示文字\r\n     * @param btnLab 按钮文字\r\n     * @param callBack 回调函数\r\n     * @param isClose 是否可关闭\r\n     */\r\n    public showErrorPanel(\r\n        shuoMing: string,\r\n        biaoTi?: string,\r\n        tiShi?: string,\r\n        btnLab?: string,\r\n        callBack?: Function,\r\n        isClose: boolean = false,\r\n    ) {\r\n        let errorPanel = UIManager.getUI(ErrorPanel);\r\n        if (!errorPanel) {\r\n            UIManager.openUI(ErrorPanel, null, EPANEL_ZORDER.ERROR, () => {\r\n                this.showErrorPanel(shuoMing, biaoTi, tiShi, btnLab, callBack, isClose);\r\n            });\r\n        } else {\r\n            errorPanel.setPanel(shuoMing, biaoTi, tiShi, btnLab, callBack, isClose);\r\n        }\r\n    }\r\n\r\n    public closeErrorPanel() {\r\n        UIManager.closeUI(ErrorPanel);\r\n    }\r\n\r\n    /**\r\n     * 提交、返回\r\n     */\r\n    public showUploadAndReturnPanel() {\r\n        UIManager.showUI(UploadAndReturnPanel, null, EPANEL_ZORDER.SUBMISSION);\r\n    }\r\n\r\n    public closeUploadAndReturnPanel() {\r\n        UIManager.closeUI(UploadAndReturnPanel);\r\n    }\r\n\r\n    public showSubmissionPanel() {\r\n        UIManager.showUI(SubmissionPanel, null, EPANEL_ZORDER.SUBMISSION);\r\n    }\r\n\r\n    public closeSubmissionPanel() {\r\n        UIManager.closeUI(SubmissionPanel);\r\n    }\r\n\r\n    public showGamePanel(callback?: Function) {\r\n        UIManager.openUI(GamePanel, null, EPANEL_ZORDER.NORMAL, callback);\r\n    }\r\n\r\n    public closeGamePanel() {\r\n        UIManager.closeUI(GamePanel);\r\n    }\r\n\r\n    public showTeacherPanel(callback?: Function) {\r\n        UIManager.openUI(TeacherPanel, null, EPANEL_ZORDER.NORMAL, callback);\r\n    }\r\n\r\n    public closeTeacherPanel() {\r\n        UIManager.closeUI(TeacherPanel);\r\n    }\r\n\r\n    /**\r\n     * 显示遮罩\r\n     * @param isShowLoading 是否显示Loading\r\n     */\r\n    public showMask(isShowLoading: boolean = false) {\r\n        ListenerManager.dispatch(FrameMsgType.ON_MASK, true, isShowLoading);\r\n    }\r\n\r\n    /**\r\n     * 隐藏遮罩\r\n     */\r\n    public closeMask() {\r\n        ListenerManager.dispatch(FrameMsgType.ON_MASK, false);\r\n    }\r\n\r\n    /**\r\n     * 显示数据恢复遮罩\r\n     */\r\n    public showRecoverMask() {\r\n        ListenerManager.dispatch(FrameMsgType.MASK_RECOVER, true);\r\n    }\r\n\r\n    /**\r\n     * 隐藏数据恢复遮罩\r\n     */\r\n    public closeRecoverMask() {\r\n        ListenerManager.dispatch(FrameMsgType.MASK_RECOVER, false);\r\n    }\r\n}\r\nexport const UIHelp = UIHelpClass.getInstance();\r\n"]}