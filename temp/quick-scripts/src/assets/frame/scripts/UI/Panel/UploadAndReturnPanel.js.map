{"version":3,"sources":["assets\\frame\\scripts\\UI\\Panel\\UploadAndReturnPanel.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mEAAkE;AAClE,8CAAyC;AACzC,wDAAuD;AACvD,6CAA4C;AAC5C,6DAA4D;AAC5D,2DAA0D;AAC1D,qCAAoC;AACpC,gFAA+E;AAEzE,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAkD,wCAAW;IAA7D;;IA+CA,CAAC;IA5CG,qCAAM,GAAN;QAAA,iBAIC;QAHG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,gBAAgB,EAAE;YAC7C,KAAI,CAAC,YAAY,EAAE,CAAC;QACxB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,oCAAK,GAAL;QACI,iCAAe,CAAC,QAAQ,CAAC,2BAAY,CAAC,uBAAuB,EAAE,CAAC,CAAC,CAAC;IACtE,CAAC;IAED,uCAAQ,GAAR;QACI,iCAAe,CAAC,QAAQ,CAAC,2BAAY,CAAC,uBAAuB,EAAE,CAAC,CAAC,CAAC;QAClE,eAAM,CAAC,cAAc,EAAE,CAAC;QACxB,eAAM,CAAC,cAAc,EAAE,CAAC;QACxB,eAAM,CAAC,yBAAyB,EAAE,CAAC;QACnC,eAAM,CAAC,oBAAoB,EAAE,CAAC;QAC9B,eAAM,CAAC,aAAa,EAAE,CAAC;QACvB,eAAM,CAAC,cAAc,EAAE,CAAC;QACxB,6BAAa,CAAC,cAAc,EAAE,CAAC;QAC/B,2BAAY,CAAC,OAAO,EAAE,CAAC;QACvB,SAAG,CAAC,sBAAsB,EAAE,CAAC;IACjC,CAAC;IAED,uCAAQ,GAAR;QACI,IAAM,MAAM,GAAG,6BAAa,CAAC,aAAa,EAAE,CAAC;QAC7C,IAAI,CAAC,MAAM,IAAI,6BAAa,CAAC,SAAS,EAAE;YACpC,eAAM,CAAC,mBAAmB,EAAE,CAAC;SAChC;aAAM;YACH,eAAM,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;SAC9B;IACL,CAAC;IAED,2CAAY,GAAZ;QACI,IAAI,YAAY,GAAG,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC;QACrC,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;QAC1C,IAAI,MAAM,EAAE;YACR,IAAI,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;gBACjC,MAAM,CAAC,MAAM,GAAG,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;aACzD;iBAAM;gBACH,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;aACrB;YACD,MAAM,CAAC,eAAe,EAAE,CAAC;SAC5B;IACL,CAAC;IA7Ca,8BAAS,GAAG,sBAAsB,CAAC;IADhC,oBAAoB;QADxC,OAAO;OACa,oBAAoB,CA+CxC;IAAD,2BAAC;CA/CD,AA+CC,CA/CiD,qBAAW,GA+C5D;kBA/CoB,oBAAoB","file":"","sourceRoot":"/","sourcesContent":["import { ListenerManager } from './../../Manager/ListenerManager';\nimport BaseFrameUI from '../BaseFrameUI';\nimport { FrameMsgType } from '../../Data/FrameMsgType';\nimport { UIHelp } from '../../Utils/UIHelp';\nimport { ReportManager } from '../../Manager/ReportManager';\nimport { SoundManager } from '../../Manager/SoundManager';\nimport { T2M } from '../../SDK/T2M';\nimport { EditorManager } from '../../../../game/scripts/Manager/EditorManager';\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class UploadAndReturnPanel extends BaseFrameUI {\n    public static className = 'UploadAndReturnPanel';\n\n    onLoad() {\n        this.node.on(cc.Node.EventType.POSITION_CHANGED, () => {\n            this.adjustWidget();\n        });\n    }\n\n    start() {\n        ListenerManager.dispatch(FrameMsgType.ON_EDIT_STATE_SWITCHING, 1);\n    }\n\n    onFanHui() {\n        ListenerManager.dispatch(FrameMsgType.ON_EDIT_STATE_SWITCHING, 0);\n        UIHelp.closeStarCount();\n        UIHelp.closeGamePanel();\n        UIHelp.closeUploadAndReturnPanel();\n        UIHelp.closeSubmissionPanel();\n        UIHelp.closeOverTips();\n        UIHelp.closeAffirmTip();\n        ReportManager.reportGameOver();\n        SoundManager.stopAll();\n        T2M.onReturnToTeacherPanel();\n    }\n\n    onTiJiao() {\n        const isEdit = EditorManager.isSupportEdit();\n        if (!isEdit || ReportManager.isAllOver) {\n            UIHelp.showSubmissionPanel();\n        } else {\n            UIHelp.showTip('请先完成一遍题目');\n        }\n    }\n\n    adjustWidget() {\n        let scenceHeight = cc.winSize.height;\n        let widget = this.getComponent(cc.Widget);\n        if (widget) {\n            if (scenceHeight > this.node.height) {\n                widget.bottom = (scenceHeight - this.node.height) / 2;\n            } else {\n                widget.bottom = 0;\n            }\n            widget.updateAlignment();\n        }\n    }\n}\n"]}