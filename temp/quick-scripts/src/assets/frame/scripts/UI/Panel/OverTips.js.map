{"version":3,"sources":["assets\\frame\\scripts\\UI\\Panel\\OverTips.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { SoundManager } from './../../Manager/SoundManager';\nimport { Tools } from '../../Utils/Tools';\nimport BaseFrameUI from '../BaseFrameUI';\nimport { UIHelp } from '../../Utils/UIHelp';\nimport { UIManager } from '../../Manager/UIManager';\nimport { T2M } from '../../SDK/T2M';\nimport { FrameMsgType } from '../../Data/FrameMsgType';\nimport { ConstValue } from '../../../../game/scripts/Data/ConstValue';\n\nexport enum Type_Tile {\n    ZuoDaJieShu,\n    ChuangGuanChengGong,\n    TiaoZhanJieShu,\n    TiaoZhanChengGong,\n    ChuangGuanJieShu,\n}\n\nexport const DefalutTitle = ['作答结束', '闯关成功', '挑战结束', '挑战成功', '闯关结束'];\n\nlet FontMap = {\n    作: 'img_zuo',\n    答: 'img_da',\n    结: 'img_jie',\n    束: 'img_shu',\n    成: 'img_cheng',\n    功: 'img_gong',\n    挑: 'img_tiao',\n    战: 'img_zhan',\n    闯: 'img_chuang',\n    关: 'img_guan',\n};\n\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport class OverTips extends BaseFrameUI {\n    public static className = 'OverTips';\n\n    private _lb_tips: cc.Node = null;\n    private _sp_false: cc.Node = null;\n    private _sp_true: cc.Node = null;\n    private _sp_complete: cc.Node = null;\n    private _btn_close: cc.Node = null;\n    private _btn_replay: cc.Node = null;\n    private _nd_yanhua: cc.Node = null;\n\n    private callback = null;\n    private endInAnimation: boolean = false;\n    private img_titles: cc.Node[] = [];\n    private bones: any[] = [];\n    private _endTitle: string = '';\n\n    constructor() {\n        super();\n    }\n\n    onLoad() {\n        UIManager.getBundleRes('frameRes', 'images/OverTips/word', cc.SpriteAtlas, (asset: cc.SpriteAtlas) => {});\n    }\n\n    start() {\n        this._btn_close.on(cc.Node.EventType.TOUCH_END, this.onClickClose, this);\n\n        T2M.addSyncEventListener(FrameMsgType.OVERTIPS_CLOSE, this.doClickClose.bind(this));\n    }\n\n    onDisable() {\n        this._btn_close.off(cc.Node.EventType.TOUCH_END, this.onClickClose, this);\n    }\n\n    /**\n     设置显示内容\n     @param {number} type          0: 错误  1：答对了  2：闯关成功(一直显示不会关闭)\n     @param {string} str           提示内容\n     @param {Function} callback    回调函数\n     @param {string} endTitle      end动效提示文字\n     @param {boolean} isShowReplay     是否显示重玩按钮\n     @param {boolean} isShowClose     是否显示关闭按钮\n     @param {boolean} autoOff     是否自动关闭\n     */\n    init(\n        type: number,\n        str: string = '',\n        callback: Function,\n        endTitle?: string,\n        isShowReplay?: boolean,\n        isShowClose: boolean = false,\n        autoOff: boolean = true,\n    ): void {\n        this.callback = callback;\n        this._sp_false.active = type == 0;\n        this._sp_true.active = type == 1;\n        this._sp_complete.active = type == 2;\n        this._lb_tips.active = type != 2;\n        this._lb_tips.getComponent(cc.Label).string = str;\n        this._btn_close.active = isShowClose && (0 === type || 1 === type);\n        if (this._btn_replay) {\n            this._btn_replay.active = isShowReplay;\n        }\n\n        if (!endTitle || 4 !== endTitle.length) {\n            this._endTitle = DefalutTitle[0];\n        } else {\n            this._endTitle = endTitle;\n        }\n\n        switch (type) {\n            case 0:\n                Tools.playSpine(this._sp_false.getComponent(sp.Skeleton), 'false', false, () => {\n                    if (autoOff) {\n                        this.delayClose();\n                    }\n                });\n                SoundManager.playEffect('sfx_genneg', false, false, false);\n                break;\n            case 1:\n                this._sp_true.getComponent(sp.Skeleton).clearTracks();\n                Tools.playSpine(this._sp_true.getComponent(sp.Skeleton), 'true', false, () => {\n                    if (autoOff) {\n                        this.delayClose();\n                    }\n                });\n                SoundManager.playEffect('sfx_genpos', false, false, false);\n                break;\n            case 2:\n                this.playCompleteBySubject();\n\n                break;\n        }\n\n        this.playTipsAction();\n        UIHelp.closeMask();\n    }\n\n    playCompleteBySubject() {\n        const subject: number = ConstValue.Subject || 1;\n        switch (subject) {\n            case 1:\n                {\n                    this._sp_complete.active = false;\n                    let spComp = this._sp_complete.getComponent(sp.Skeleton);\n                    this.bones = [];\n                    this.bones.push(spComp.findBone('paipai'));\n                    this.bones.push(spComp.findBone('xiaoU'));\n                    this.bones.push(spComp.findBone('mimiya'));\n                    this.bones.push(spComp.findBone('doudou'));\n                    this.createTitleImage();\n                }\n                break;\n            case 2:\n                {\n                    this.endInAnimation = false;\n                    this._sp_complete.active = true;\n                    let spComp = this._sp_complete.getComponent(sp.Skeleton);\n                    Tools.playSpine(spComp, 'ni zhenbang', false, () => {\n                        Tools.playSpine(spComp, 'xunhuan', true);\n                    });\n                    SoundManager.playEffect('over_yuwen', false);\n                }\n                break;\n            case 3:\n                {\n                    this.endInAnimation = false;\n                    this._nd_yanhua.active = true;\n                    this._sp_complete.active = true;\n                    let spComp = this._sp_complete.getComponent(sp.Skeleton);\n                    Tools.playSpine(spComp, 'animation', false, () => {\n                        spComp.animation = null;\n                    });\n                    SoundManager.playEffect('over_yingyu', false);\n                }\n                break;\n        }\n    }\n\n    delayClose(): void {\n        this.scheduleOnce(() => {\n            this.doClickClose();\n        }, 0);\n    }\n\n    playTipsAction() {\n        if (this._lb_tips.active) {\n            let endPos = cc.v2(this._lb_tips.position.x, this._lb_tips.position.y);\n            let framePos_1 = cc.v2(endPos.x, endPos.y - 72.8);\n            let framePos_2 = cc.v2(endPos.x, endPos.y + 12);\n            let framePos_3 = cc.v2(endPos.x, endPos.y - 8);\n            let framePos_4 = cc.v2(endPos.x, endPos.y + 7.3);\n            this._lb_tips.position = cc.v3(framePos_1.x, framePos_1.y);\n            cc.tween(this._lb_tips)\n                .to(0.08, { x: framePos_2.x, y: framePos_2.y })\n                .to(0.08, { x: framePos_3.x, y: framePos_3.y })\n                .to(0.08, { x: framePos_4.x, y: framePos_4.y })\n                .to(0.06, { x: endPos.x, y: endPos.y })\n                .start();\n        }\n    }\n\n    onClickClose(event?, customEventData?): void {\n        T2M.dispatch(FrameMsgType.OVERTIPS_CLOSE, null);\n    }\n\n    doClickClose() {\n        if (this.callback) this.callback();\n        UIHelp.closeOverTips();\n    }\n\n    createTitleImage() {\n        UIManager.getBundleRes('frameRes', 'images/OverTips/word', cc.SpriteAtlas, (atlas: cc.SpriteAtlas) => {\n            this.img_titles.forEach((node) => {\n                node.removeFromParent(true);\n            });\n            this.img_titles = [];\n\n            for (let i = 0; i < this._endTitle.length; ++i) {\n                const str = this._endTitle[i];\n                let spriteFrame = atlas.getSpriteFrame(FontMap[str]);\n                let imageNode = new cc.Node();\n                let image = imageNode.addComponent(cc.Sprite);\n                image.spriteFrame = spriteFrame;\n                imageNode.parent = this.node;\n                imageNode.active = false;\n                this.img_titles.push(imageNode);\n            }\n\n            this.endInAnimation = true;\n            this._sp_complete.active = true;\n            let spComp = this._sp_complete.getComponent(sp.Skeleton);\n            Tools.playSpine(spComp, 'in', false, () => {\n                Tools.playSpine(spComp, 'stand', true);\n                this.endInAnimation = false;\n            });\n            SoundManager.playEffect('sfx_geupgrd', false);\n        });\n    }\n\n    update() {\n        if (!this.endInAnimation) return;\n        for (let index = 0; index < this.img_titles.length; index++) {\n            this.img_titles[index].active = true;\n            this.img_titles[index].position = cc.v3(this.bones[index].worldX - 139, this.bones[index].worldY - 135);\n        }\n    }\n}\n"]}